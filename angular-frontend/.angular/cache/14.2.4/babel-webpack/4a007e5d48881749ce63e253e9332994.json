{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/mouji/IdeaProjects/Fitness-store-2022/angular-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Cart } from \"../../../../common/shopping/cart\";\nlet CartPageComponent = class CartPageComponent {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.cart = new Cart();\n    this.cartItems = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield Promise.all([_this.retrieveUserCart(), _this.retrieveCartItems()]);\n    })();\n  }\n\n  retrieveCartItems() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.retrieveUserCart();\n\n      _this2.cartService.retrieveCartItems(_this2.cart.cartId).subscribe(data => {\n        _this2.cartItems = data;\n      }, error => {\n        console.log(error);\n      });\n    })();\n  }\n\n  retrieveUserCart() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3.cartService.retrieveCart().toPromise().then(data => {\n        if (data != undefined) _this3.cart = data;\n      }, error => {\n        console.log(error);\n      });\n    })();\n  }\n\n};\nCartPageComponent = __decorate([Component({\n  selector: 'app-cart-page',\n  templateUrl: './cart-page.component.html',\n  styleUrls: ['./cart-page.component.sass']\n})], CartPageComponent);\nexport { CartPageComponent };","map":{"version":3,"mappings":";;AAAA,SAAQA,SAAR,QAAgC,eAAhC;AACA,SAAQC,IAAR,QAAmB,kCAAnB;AASA,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAb,CAA8B;EAK5BC,YAAoBC,WAApB,EAA4C;IAAxB;IAHpB,YAAa,IAAIH,IAAJ,EAAb;IACA,iBAAwB,EAAxB;EAGC;;EAEKI,QAAQ;IAAA;;IAAA;MACZ,MAAMC,OAAO,CAACC,GAAR,CAAY,CAAC,KAAI,CAACC,gBAAL,EAAD,EAA0B,KAAI,CAACC,iBAAL,EAA1B,CAAZ,CAAN;IADY;EAEb;;EAEKA,iBAAiB;IAAA;;IAAA;MACrB,MAAM,MAAI,CAACD,gBAAL,EAAN;;MAEA,MAAI,CAACJ,WAAL,CAAiBK,iBAAjB,CAAmC,MAAI,CAACC,IAAL,CAAUC,MAA7C,EAAqDC,SAArD,CACEC,IAAI,IAAG;QACL,MAAI,CAACC,SAAL,GAAiBD,IAAjB;MACD,CAHH,EAIEE,KAAK,IAAG;QACNC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CANH;IAHqB;EAWtB;;EAEKP,gBAAgB;IAAA;;IAAA;MACpB,MAAM,MAAI,CAACJ,WAAL,CAAiBc,YAAjB,GAAgCC,SAAhC,GAA4CC,IAA5C,CACJP,IAAI,IAAG;QACL,IAAGA,IAAI,IAAIQ,SAAX,EACE,MAAI,CAACX,IAAL,GAAYG,IAAZ;MACH,CAJG,EAKJE,KAAK,IAAG;QACNC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CAPG,CAAN;IADoB;EAUrB;;AAnC2B,CAA9B;AAAab,iBAAiB,eAL7BF,SAAS,CAAC;EACTsB,QAAQ,EAAE,eADD;EAETC,WAAW,EAAE,4BAFJ;EAGTC,SAAS,EAAE,CAAC,4BAAD;AAHF,CAAD,CAKoB,GAAjBtB,iBAAiB,CAAjB;SAAAA","names":["Component","Cart","CartPageComponent","constructor","cartService","ngOnInit","Promise","all","retrieveUserCart","retrieveCartItems","cart","cartId","subscribe","data","cartItems","error","console","log","retrieveCart","toPromise","then","undefined","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\mouji\\IdeaProjects\\Fitness-store-2022\\angular-frontend\\src\\app\\components\\shopping\\cart\\cart-page\\cart-page.component.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {Cart} from \"../../../../common/shopping/cart\";\nimport {CartService} from \"../../../../services/shopping/cart/cart.service\";\nimport {CartItem} from \"../../../../common/shopping/cart-item\";\n\n@Component({\n  selector: 'app-cart-page',\n  templateUrl: './cart-page.component.html',\n  styleUrls: ['./cart-page.component.sass']\n})\nexport class CartPageComponent implements OnInit {\n\n  cart: Cart = new Cart();\n  cartItems: CartItem[] = [];\n\n  constructor(private cartService: CartService) {\n  }\n\n  async ngOnInit(){\n    await Promise.all([this.retrieveUserCart(), this.retrieveCartItems()])\n  }\n\n  async retrieveCartItems(){\n    await this.retrieveUserCart();\n\n    this.cartService.retrieveCartItems(this.cart.cartId).subscribe(\n      data => {\n        this.cartItems = data;\n      },\n      error => {\n        console.log(error);\n      }\n    );\n  }\n\n  async retrieveUserCart() {\n    await this.cartService.retrieveCart().toPromise().then(\n      data => {\n        if(data != undefined)\n          this.cart = data;\n      },\n      error => {\n        console.log(error);\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}