{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/mouji/IdeaProjects/Fitness-store-2022/angular-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { OrderInfo } from \"../../../common/users/orderInfo\";\nlet OrderPageComponent = class OrderPageComponent {\n  constructor(route, orderService) {\n    this.route = route;\n    this.orderService = orderService;\n    this.orderId = 0;\n    this.order = new OrderInfo();\n    this.orderItems = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.getOrderData();\n      yield _this.retrieveOrderItems();\n      yield Promise.all([_this.getOrderData(), _this.retrieveOrderItems()]);\n    })();\n  }\n\n  getOrderData() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.orderId = +_this2.route.snapshot.paramMap.get('id');\n\n      _this2.orderService.getOrderById(_this2.orderId).toPromise().then(data => {\n        if (data != undefined) {\n          _this2.order = data;\n        }\n      }, error => {\n        console.log(error);\n      });\n    })();\n  }\n\n  retrieveOrderItems() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3.getOrderData();\n\n      _this3.orderService.retrieveOrderItems(_this3.orderId).subscribe(data => {\n        _this3.orderItems = data;\n      }, error => {\n        console.log(error);\n      });\n    })();\n  }\n\n};\nOrderPageComponent = __decorate([Component({\n  selector: 'app-order-page',\n  templateUrl: './order-page.component.html',\n  styleUrls: ['./order-page.component.sass']\n})], OrderPageComponent);\nexport { OrderPageComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AAGA,SAAQC,SAAR,QAAwB,iCAAxB;AAQA,IAAaC,kBAAkB,GAA/B,MAAaA,kBAAb,CAA+B;EAM7BC,YAAoBC,KAApB,EAAmDC,YAAnD,EAA6E;IAAzD;IAA+B;IAJnD,eAAkB,CAAlB;IACA,aAAmB,IAAIJ,SAAJ,EAAnB;IACA,kBAA0B,EAA1B;EAEkF;;EAE5EK,QAAQ;IAAA;;IAAA;MACZ,MAAM,KAAI,CAACC,YAAL,EAAN;MACA,MAAM,KAAI,CAACC,kBAAL,EAAN;MACA,MAAMC,OAAO,CAACC,GAAR,CAAY,CAAC,KAAI,CAACH,YAAL,EAAD,EAAsB,KAAI,CAACC,kBAAL,EAAtB,CAAZ,CAAN;IAHY;EAIb;;EAEKD,YAAY;IAAA;;IAAA;MAChB,MAAI,CAACI,OAAL,GAAe,CAAC,MAAI,CAACP,KAAL,CAAWQ,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,IAAjC,CAAhB;;MACA,MAAI,CAACT,YAAL,CAAkBU,YAAlB,CAA+B,MAAI,CAACJ,OAApC,EAA6CK,SAA7C,GAAyDC,IAAzD,CACEC,IAAI,IAAG;QACL,IAAIA,IAAI,IAAIC,SAAZ,EAAuB;UACrB,MAAI,CAACC,KAAL,GAAaF,IAAb;QACD;MACF,CALH,EAMEG,KAAK,IAAG;QACNC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CARH;IAFgB;EAYjB;;EAEKb,kBAAkB;IAAA;;IAAA;MACtB,MAAM,MAAI,CAACD,YAAL,EAAN;;MAEA,MAAI,CAACF,YAAL,CAAkBG,kBAAlB,CAAqC,MAAI,CAACG,OAA1C,EAAmDa,SAAnD,CACEN,IAAI,IAAG;QACL,MAAI,CAACO,UAAL,GAAkBP,IAAlB;MACD,CAHH,EAIEG,KAAK,IAAG;QACNC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CANH;IAHsB;EAWvB;;AAvC4B,CAA/B;AAAanB,kBAAkB,eAL9BF,SAAS,CAAC;EACT0B,QAAQ,EAAE,gBADD;EAETC,WAAW,EAAE,6BAFJ;EAGTC,SAAS,EAAE,CAAC,6BAAD;AAHF,CAAD,CAKqB,GAAlB1B,kBAAkB,CAAlB;SAAAA","names":["Component","OrderInfo","OrderPageComponent","constructor","route","orderService","ngOnInit","getOrderData","retrieveOrderItems","Promise","all","orderId","snapshot","paramMap","get","getOrderById","toPromise","then","data","undefined","order","error","console","log","subscribe","orderItems","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\mouji\\IdeaProjects\\Fitness-store-2022\\angular-frontend\\src\\app\\components\\customer\\order-page\\order-page.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {OrderService} from \"../../../services/shopping/order/order.service\";\nimport {OrderInfo} from \"../../../common/users/orderInfo\";\nimport {OrderItem} from \"../../../common/users/order-item\";\n\n@Component({\n  selector: 'app-order-page',\n  templateUrl: './order-page.component.html',\n  styleUrls: ['./order-page.component.sass']\n})\nexport class OrderPageComponent implements OnInit {\n\n  orderId: number = 0;\n  order: OrderInfo = new OrderInfo();\n  orderItems: OrderItem[] = [];\n\n  constructor(private route: ActivatedRoute, private orderService: OrderService) { }\n\n  async ngOnInit(): Promise<void> {\n    await this.getOrderData();\n    await this.retrieveOrderItems();\n    await Promise.all([this.getOrderData(), this.retrieveOrderItems()])\n  }\n\n  async getOrderData(): Promise<void> {\n    this.orderId = +this.route.snapshot.paramMap.get('id')!;\n    this.orderService.getOrderById(this.orderId).toPromise().then(\n      data => {\n        if (data != undefined) {\n          this.order = data;\n        }\n      },\n      error => {\n        console.log(error);\n      }\n    )\n  }\n\n  async retrieveOrderItems(): Promise<void> {\n    await this.getOrderData();\n\n    this.orderService.retrieveOrderItems(this.orderId).subscribe(\n      data => {\n        this.orderItems = data;\n      },\n      error => {\n        console.log(error);\n      }\n    )\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}