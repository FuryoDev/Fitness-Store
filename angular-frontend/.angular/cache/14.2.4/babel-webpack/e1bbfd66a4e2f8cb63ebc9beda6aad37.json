{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/mouji/IdeaProjects/Fitness-store-2022/angular-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { OrderInfo } from \"../../../common/users/orderInfo\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../services/shopping/order/order.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction OrderPageComponent_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.product.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.quantity);\n  }\n}\n\nexport class OrderPageComponent {\n  constructor(route, orderService) {\n    this.route = route;\n    this.orderService = orderService;\n    this.orderId = 0;\n    this.order = new OrderInfo();\n    this.orderItems = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.getOrderData();\n      yield _this.retrieveOrderItems();\n      yield Promise.all([_this.getOrderData(), _this.retrieveOrderItems()]);\n    })();\n  }\n\n  getOrderData() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.orderId = +_this2.route.snapshot.paramMap.get('id');\n\n      _this2.orderService.getOrderById(_this2.orderId).toPromise().then(data => {\n        if (data != undefined) {\n          _this2.order = data;\n        }\n      }, error => {\n        console.log(error);\n      });\n    })();\n  }\n\n  retrieveOrderItems() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3.getOrderData();\n\n      _this3.orderService.retrieveOrderItems(_this3.orderId).subscribe(data => {\n        _this3.orderItems = data;\n      }, error => {\n        console.log(error);\n      });\n    })();\n  }\n\n}\n\nOrderPageComponent.ɵfac = function OrderPageComponent_Factory(t) {\n  return new (t || OrderPageComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.OrderService));\n};\n\nOrderPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrderPageComponent,\n  selectors: [[\"app-order-page\"]],\n  decls: 34,\n  vars: 5,\n  consts: [[1, \"order-info\"], [1, \"order-info-item\"], [1, \"label\"], [1, \"value\"], [1, \"order-items-table\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function OrderPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Order Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1)(4, \"span\", 2);\n      i0.ɵɵtext(5, \"Date:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"span\", 3);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 1)(9, \"span\", 2);\n      i0.ɵɵtext(10, \"Status:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"span\", 3);\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 1)(14, \"span\", 2);\n      i0.ɵɵtext(15, \"Payment Method:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"span\", 3);\n      i0.ɵɵtext(17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 1)(19, \"span\", 2);\n      i0.ɵɵtext(20, \"Total Price:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"span\", 3);\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"h2\");\n      i0.ɵɵtext(24, \"Order Items\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"table\", 4)(26, \"thead\")(27, \"tr\")(28, \"th\");\n      i0.ɵɵtext(29, \"Product\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"th\");\n      i0.ɵɵtext(31, \"Quantity\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(32, \"tbody\");\n      i0.ɵɵtemplate(33, OrderPageComponent_tr_33_Template, 5, 2, \"tr\", 5);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.order.purchaseDate);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.order.pending);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.order.paymentMethod);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.order.total.toFixed(2));\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngForOf\", ctx.orderItems);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\".app-order-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  margin-bottom: 20px;\\n}\\n.app-order-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n.app-order-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  padding: 10px;\\n  text-align: left;\\n}\\n.app-order-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 10px;\\n}\\n.app-order-item[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n  border: 1px solid #ccc;\\n  padding: 10px;\\n}\\n.order-info[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n}\\n.order-item-details[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n.image-wrapper[_ngcontent-%COMP%] {\\n  flex: 0 0 80px;\\n  margin-right: 10px;\\n}\\nimg[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: auto;\\n}\\n.item-info[_ngcontent-%COMP%] {\\n  flex-grow: 1;\\n}\\n.item-name[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n.item-quantity[_ngcontent-%COMP%] {\\n  color: #888;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLXBhZ2UuY29tcG9uZW50LnNhc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxlQUFBO0VBQ0EsbUJBQUE7QUFBSjtBQUVFO0VBQ0UsV0FBQTtBQUFKO0FBSVE7RUFDRSxhQUFBO0VBQ0EsZ0JBQUE7QUFGVjtBQU1RO0VBQ0UsYUFBQTtBQUpWO0FBTUE7RUFDRSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsYUFBQTtBQUhGO0FBS0E7RUFDRSxtQkFBQTtBQUZGO0FBSUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7QUFERjtBQUdBO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0FBQUY7QUFFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBQ0Y7QUFDQTtFQUNFLFlBQUE7QUFFRjtBQUFBO0VBQ0UsaUJBQUE7QUFHRjtBQURBO0VBQ0UsV0FBQTtBQUlGIiwiZmlsZSI6Im9yZGVyLXBhZ2UuY29tcG9uZW50LnNhc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYXBwLW9yZGVyLXBhZ2VcclxuICBoMVxyXG4gICAgZm9udC1zaXplOiAyNHB4XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4XHJcblxyXG4gIHRhYmxlXHJcbiAgICB3aWR0aDogMTAwJVxyXG5cclxuICAgIHRoZWFkXHJcbiAgICAgIHRyXHJcbiAgICAgICAgdGhcclxuICAgICAgICAgIHBhZGRpbmc6IDEwcHhcclxuICAgICAgICAgIHRleHQtYWxpZ246IGxlZnRcclxuXHJcbiAgICB0Ym9keVxyXG4gICAgICB0clxyXG4gICAgICAgIHRkXHJcbiAgICAgICAgICBwYWRkaW5nOiAxMHB4XHJcblxyXG4uYXBwLW9yZGVyLWl0ZW1cclxuICBtYXJnaW4tYm90dG9tOiAyMHB4XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjY1xyXG4gIHBhZGRpbmc6IDEwcHhcclxuXHJcbi5vcmRlci1pbmZvXHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweFxyXG5cclxuLm9yZGVyLWl0ZW0tZGV0YWlsc1xyXG4gIGRpc3BsYXk6IGZsZXhcclxuICBhbGlnbi1pdGVtczogY2VudGVyXHJcblxyXG4uaW1hZ2Utd3JhcHBlclxyXG4gIGZsZXg6IDAgMCA4MHB4XHJcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4XHJcblxyXG5pbWdcclxuICB3aWR0aDogMTAwJVxyXG4gIGhlaWdodDogYXV0b1xyXG5cclxuLml0ZW0taW5mb1xyXG4gIGZsZXgtZ3JvdzogMVxyXG5cclxuLml0ZW0tbmFtZVxyXG4gIGZvbnQtd2VpZ2h0OiBib2xkXHJcblxyXG4uaXRlbS1xdWFudGl0eVxyXG4gIGNvbG9yOiAjODg4XHJcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":";AACA,SAAQA,cAAR,QAAqC,iBAArC;AAEA,SAAQC,SAAR,QAAwB,iCAAxB;;;;;;;;IC4BIC,2BAAoC,CAApC,EAAoC,IAApC;IACMA;IAAsBA;IAC1BA;IAAIA;IAAmBA;;;;;IADnBA;IAAAA;IACAA;IAAAA;;;;ADtBV,OAAM,MAAOC,kBAAP,CAAyB;EAM7BC,YAAoBC,KAApB,EAAmDC,YAAnD,EAA6E;IAAzD;IAA+B;IAJnD,eAAkB,CAAlB;IACA,aAAmB,IAAIL,SAAJ,EAAnB;IACA,kBAA0B,EAA1B;EAEkF;;EAE5EM,QAAQ;IAAA;;IAAA;MACZ,MAAM,KAAI,CAACC,YAAL,EAAN;MACA,MAAM,KAAI,CAACC,kBAAL,EAAN;MACA,MAAMC,OAAO,CAACC,GAAR,CAAY,CAAC,KAAI,CAACH,YAAL,EAAD,EAAsB,KAAI,CAACC,kBAAL,EAAtB,CAAZ,CAAN;IAHY;EAIb;;EAEKD,YAAY;IAAA;;IAAA;MAChB,MAAI,CAACI,OAAL,GAAe,CAAC,MAAI,CAACP,KAAL,CAAWQ,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,IAAjC,CAAhB;;MACA,MAAI,CAACT,YAAL,CAAkBU,YAAlB,CAA+B,MAAI,CAACJ,OAApC,EAA6CK,SAA7C,GAAyDC,IAAzD,CACEC,IAAI,IAAG;QACL,IAAIA,IAAI,IAAIC,SAAZ,EAAuB;UACrB,MAAI,CAACC,KAAL,GAAaF,IAAb;QACD;MACF,CALH,EAMEG,KAAK,IAAG;QACNC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CARH;IAFgB;EAYjB;;EAEKb,kBAAkB;IAAA;;IAAA;MACtB,MAAM,MAAI,CAACD,YAAL,EAAN;;MAEA,MAAI,CAACF,YAAL,CAAkBG,kBAAlB,CAAqC,MAAI,CAACG,OAA1C,EAAmDa,SAAnD,CACEN,IAAI,IAAG;QACL,MAAI,CAACO,UAAL,GAAkBP,IAAlB;MACD,CAHH,EAIEG,KAAK,IAAG;QACNC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CANH;IAHsB;EAWvB;;AAvC4B;;;mBAAlBnB,oBAAkBD;AAAA;;;QAAlBC;EAAkBwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX7B7B;MAAIA;MAAaA;MAEjBA,+BAAwB,CAAxB,EAAwB,KAAxB,EAAwB,CAAxB,EAAwB,CAAxB,EAAwB,MAAxB,EAAwB,CAAxB;MAEwBA;MAAKA;MACzBA;MAAoBA;MAAwBA;MAE9CA,+BAA6B,CAA7B,EAA6B,MAA7B,EAA6B,CAA7B;MACsBA;MAAOA;MAC3BA;MAAoBA;MAAmBA;MAEzCA,gCAA6B,EAA7B,EAA6B,MAA7B,EAA6B,CAA7B;MACsBA;MAAeA;MACnCA;MAAoBA;MAAyBA;MAE/CA,gCAA6B,EAA7B,EAA6B,MAA7B,EAA6B,CAA7B;MACsBA;MAAYA;MAChCA;MAAoBA;MAA4BA;MAIpDA;MAAIA;MAAWA;MAEfA,kCAAiC,EAAjC,EAAiC,OAAjC,EAAiC,EAAjC,EAAiC,IAAjC,EAAiC,EAAjC,EAAiC,IAAjC;MAGQA;MAAOA;MACXA;MAAIA;MAAQA;MAGdA;MACAA;MAIAA;;;;MA9BsBA;MAAAA;MAIAA;MAAAA;MAIAA;MAAAA;MAIAA;MAAAA;MAcDA;MAAAA","names":["ActivatedRoute","OrderInfo","i0","OrderPageComponent","constructor","route","orderService","ngOnInit","getOrderData","retrieveOrderItems","Promise","all","orderId","snapshot","paramMap","get","getOrderById","toPromise","then","data","undefined","order","error","console","log","subscribe","orderItems","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\mouji\\IdeaProjects\\Fitness-store-2022\\angular-frontend\\src\\app\\components\\customer\\order-page\\order-page.component.ts","C:\\Users\\mouji\\IdeaProjects\\Fitness-store-2022\\angular-frontend\\src\\app\\components\\customer\\order-page\\order-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {OrderService} from \"../../../services/shopping/order/order.service\";\nimport {OrderInfo} from \"../../../common/users/orderInfo\";\nimport {OrderItem} from \"../../../common/users/order-item\";\n\n@Component({\n  selector: 'app-order-page',\n  templateUrl: './order-page.component.html',\n  styleUrls: ['./order-page.component.sass']\n})\nexport class OrderPageComponent implements OnInit {\n\n  orderId: number = 0;\n  order: OrderInfo = new OrderInfo();\n  orderItems: OrderItem[] = [];\n\n  constructor(private route: ActivatedRoute, private orderService: OrderService) { }\n\n  async ngOnInit(): Promise<void> {\n    await this.getOrderData();\n    await this.retrieveOrderItems();\n    await Promise.all([this.getOrderData(), this.retrieveOrderItems()])\n  }\n\n  async getOrderData(): Promise<void> {\n    this.orderId = +this.route.snapshot.paramMap.get('id')!;\n    this.orderService.getOrderById(this.orderId).toPromise().then(\n      data => {\n        if (data != undefined) {\n          this.order = data;\n        }\n      },\n      error => {\n        console.log(error);\n      }\n    )\n  }\n\n  async retrieveOrderItems(): Promise<void> {\n    await this.getOrderData();\n\n    this.orderService.retrieveOrderItems(this.orderId).subscribe(\n      data => {\n        this.orderItems = data;\n      },\n      error => {\n        console.log(error);\n      }\n    )\n  }\n\n}\n","  <h1>Order Details</h1>\n\n  <div class=\"order-info\">\n    <div class=\"order-info-item\">\n      <span class=\"label\">Date:</span>\n      <span class=\"value\">{{ order.purchaseDate }}</span>\n    </div>\n    <div class=\"order-info-item\">\n      <span class=\"label\">Status:</span>\n      <span class=\"value\">{{ order.pending }}</span>\n    </div>\n    <div class=\"order-info-item\">\n      <span class=\"label\">Payment Method:</span>\n      <span class=\"value\">{{ order.paymentMethod }}</span>\n    </div>\n    <div class=\"order-info-item\">\n      <span class=\"label\">Total Price:</span>\n      <span class=\"value\">{{ order.total.toFixed(2) }}</span>\n    </div>\n  </div>\n\n  <h2>Order Items</h2>\n\n  <table class=\"order-items-table\">\n    <thead>\n    <tr>\n      <th>Product</th>\n      <th>Quantity</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr *ngFor=\"let item of orderItems\">\n      <td>{{ item.product.name}}</td>\n      <td>{{ item.quantity }}</td>\n    </tr>\n    </tbody>\n  </table>\n"]},"metadata":{},"sourceType":"module"}