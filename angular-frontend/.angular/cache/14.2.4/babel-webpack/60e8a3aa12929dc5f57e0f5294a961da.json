{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/mouji/IdeaProjects/Fitness-store-2022/angular-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Cart } from \"../../../../common/shopping/cart\";\nlet CartPageComponent = class CartPageComponent {\n  constructor(cartService, tokenStorageService, categoryService) {\n    this.cartService = cartService;\n    this.tokenStorageService = tokenStorageService;\n    this.categoryService = categoryService;\n    this.cart = new Cart();\n    this.cartItems = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.retrieveUserCart();\n      yield _this.retrieveCartItems(_this.cart);\n    })();\n  }\n\n  retrieveCartItems(cart) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const data = yield _this2.cartService.retrieveCartItems(cart).toPromise();\n        _this2.cartItems = data;\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }\n\n  retrieveUserCart() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const data = yield _this3.cartService.retrieveCart().toPromise();\n        _this3.cart = data;\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }\n\n};\nCartPageComponent = __decorate([Component({\n  selector: 'app-cart-page',\n  templateUrl: './cart-page.component.html',\n  styleUrls: ['./cart-page.component.sass']\n})], CartPageComponent);\nexport { CartPageComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AACA,SAASC,IAAT,QAAqB,kCAArB;AAaA,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAb,CAA8B;EAK5BC,YACUC,WADV,EAEUC,mBAFV,EAGUC,eAHV,EAG0C;IAFhC;IACA;IACA;IANV,YAAa,IAAIL,IAAJ,EAAb;IACA,iBAAwB,EAAxB;EAMK;;EAECM,QAAQ;IAAA;;IAAA;MACZ,MAAM,KAAI,CAACC,gBAAL,EAAN;MACA,MAAM,KAAI,CAACC,iBAAL,CAAuB,KAAI,CAACC,IAA5B,CAAN;IAFY;EAGb;;EAEKD,iBAAiB,CAACC,IAAD,EAAW;IAAA;;IAAA;MAChC,IAAI;QACF,MAAMC,IAAI,SAAS,MAAI,CAACP,WAAL,CAAiBK,iBAAjB,CAAmCC,IAAnC,EAAyCE,SAAzC,EAAnB;QACA,MAAI,CAACC,SAAL,GAAiBF,IAAjB;MACD,CAHD,CAGE,OAAOG,KAAP,EAAc;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD;IAN+B;EAOjC;;EAEKN,gBAAgB;IAAA;;IAAA;MACpB,IAAI;QACF,MAAMG,IAAI,SAAS,MAAI,CAACP,WAAL,CAAiBa,YAAjB,GAAgCL,SAAhC,EAAnB;QACA,MAAI,CAACF,IAAL,GAAYC,IAAZ;MACD,CAHD,CAGE,OAAOG,KAAP,EAAc;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD;IANmB;EAOrB;;AAhC2B,CAA9B;AAAaZ,iBAAiB,eAL7BF,SAAS,CAAC;EACTkB,QAAQ,EAAE,eADD;EAETC,WAAW,EAAE,4BAFJ;EAGTC,SAAS,EAAE,CAAC,4BAAD;AAHF,CAAD,CAKoB,GAAjBlB,iBAAiB,CAAjB;SAAAA","names":["Component","Cart","CartPageComponent","constructor","cartService","tokenStorageService","categoryService","ngOnInit","retrieveUserCart","retrieveCartItems","cart","data","toPromise","cartItems","error","console","log","retrieveCart","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\mouji\\IdeaProjects\\Fitness-store-2022\\angular-frontend\\src\\app\\components\\shopping\\cart\\cart-page\\cart-page.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Cart } from \"../../../../common/shopping/cart\";\nimport { CartService } from \"../../../../services/shopping/cart/cart.service\";\nimport { CartItem } from \"../../../../common/shopping/cart-item\";\nimport { TokenStorageService } from \"../../../../services/authentication/token-storage.service\";\nimport { Observable } from \"rxjs\";\nimport { CategoryService } from \"../../../../services/prod-details/category.service\";\nimport { Category } from \"../../../../common/prod-details/category\";\n\n@Component({\n  selector: 'app-cart-page',\n  templateUrl: './cart-page.component.html',\n  styleUrls: ['./cart-page.component.sass']\n})\nexport class CartPageComponent implements OnInit {\n\n  cart: Cart = new Cart();\n  cartItems: CartItem[] = [];\n\n  constructor(\n    private cartService: CartService,\n    private tokenStorageService: TokenStorageService,\n    private categoryService: CategoryService\n  ) { }\n\n  async ngOnInit(): Promise<void> {\n    await this.retrieveUserCart();\n    await this.retrieveCartItems(this.cart);\n  }\n\n  async retrieveCartItems(cart: Cart): Promise<void> {\n    try {\n      const data = await this.cartService.retrieveCartItems(cart).toPromise();\n      this.cartItems = data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async retrieveUserCart(): Promise<void> {\n    try {\n      const data = await this.cartService.retrieveCart().toPromise();\n      this.cart = data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}